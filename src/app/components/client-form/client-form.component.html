<div class="card">
  <div class="head p-3">
    <h1>Form for you</h1>
  </div>
  <div class="card-body">
    <form  [formGroup]="clientForm" (ngSubmit)="save()" class="form-templaits ">

      <div class="form-group row mb-2">
        <label for="firstName">First name</label>
        <div class="col-md-8">
          <input class="form-control" id="firstName" type="text" formControlName="firstName" required placeholder="First name"/>

          <div *ngIf="firstName !== null && firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">

            <div *ngIf="firstName.errors?.required">First name is required.</div>
            <div *ngIf="firstName.errors?.minlength">First name must be at least 5 characters long.</div>

          </div>

        </div>
      </div>

      <div class="form-group row mb-2">
        <label for="lastName">Last name</label>
        <div class="col-md-8">
          <input class="form-control" id="lastName" type="text" formControlName="lastName" required placeholder="Last name"/>

          <div *ngIf="lastName !== null && lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">

            <div *ngIf="lastName.errors?.required">Last name is required.</div>
            <div *ngIf="lastName.errors?.minlength">Last name must be at least 10 characters long.</div>

          </div>

        </div>
      </div>

      <div class="form-group row mb-2">
        <label for="email">Your email</label>
        <div class="col-md-8">
          <input class="form-control" id="email" type="email" formControlName="email" required placeholder="Your email"/>

          <div *ngIf="email !== null && email.invalid && (email.dirty || email.touched)" class="alert alert-danger">

            <div *ngIf="email.errors?.required">Your email is required.</div>
            <div *ngIf="email.errors?.pattern">Your email must contain numbers, letters of the English language and @.</div>

          </div>

        </div>
      </div>

      <div class="form-group row mb-2">
        <label for="password">Password</label>
        <div class="col-md-8">
          <input class="form-control" id="password" type="password" formControlName="password" required placeholder="Your password"/>

          <div *ngIf="password !== null && password.invalid && (password.dirty || password.touched)" class="alert alert-danger">

            <div *ngIf="password.errors?.required">Your email is required.</div>
            <div *ngIf="password.errors?.pattern">Your email must contain numbers, letters of the English language.</div>
            <div *ngIf="password.errors?.minlength">Password must be at least 10 characters long.</div>

          </div>

        </div>
      </div>  
      
      <div class="form-group row mb-2">
        <label for="retryPassword">Retry Password please</label>
        <div class="col-md-8">
          <input class="form-control" id="retryPassword" type="password" formControlName="retryPassword" required placeholder="Retry Password please"/>

          <div *ngIf="retryPassword !== null && retryPassword.invalid && (retryPassword.dirty || retryPassword.touched)" class="alert alert-danger">

            <div *ngIf="retryPassword.errors?.required">Retry Password is required.</div>
            <div *ngIf="retryPassword.errors?.pattern">Your email must contain numbers, letters of the English language.</div>

          </div>

        </div>
      </div>


      <ng-container formArrayName="addresses">
        <ng-container *ngFor="let addressForm of addresses.controls; let i = index">
          <ng-container [formGroup]="asFormGroup(addressForm)">
            <app-client-address-form></app-client-address-form>
          </ng-container>
        </ng-container>
      </ng-container>
      <button class="btn btn-info m-2" (click)="onAddAddress($event)">Add address</button>

      <button class="btn btn-primary m-2">Save</button>

    </form>
  </div>
</div>


